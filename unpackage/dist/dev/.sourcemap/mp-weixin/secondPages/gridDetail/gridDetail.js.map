{"version":3,"file":"gridDetail.js","sources":["secondPages/gridDetail/gridDetail.vue","E:/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c2Vjb25kUGFnZXNcZ3JpZERldGFpbFxncmlkRGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<pageBack :titleInfo=\"titleInfo\"></pageBack>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"info\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{pageInfo[0]?.title}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"time\">\r\n\t\t\t\t{{formatDate(pageInfo[0]?.time)}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"infoContent\" v-html=\"pageInfo[0]?.content\">\r\n\t\t\t\t<!-- {{pageInfo[0]?.content}} -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"container\">\r\n\t\t\t\t<view class=\"list\" v-for=\"(item, index) in pageInfo[0]?.imageUrl\"\r\n\t\t\t\t\tv-if=\"pageInfo[0]?.imageUrl.length > 1\">\r\n\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" @click=\"previewImage(index)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list2\" v-for=\"(item, index) in pageInfo[0]?.imageUrl\" v-else>\r\n\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" @click=\"previewImage(index)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport pageBack from \"/components/title/title.vue\";\r\n\timport {\r\n\t\tgetindexNewsItemAPI,\r\n\t\tgetindexFuCultureItemAPI,\r\n\t\tgetindexFaithItemAPI,\r\n\t\tgetindexMazuCultureItemAPI,\r\n\t\tgetindexPalaceTempleItemAPI,\r\n\t\tgetindexPublicationItemAPI,\r\n\t\tgetindexCultureCreativityItemAPI,\r\n\t\tgetindexTourismItemAPI,\r\n\t\tgetindexGridFaithAPI,\r\n\t\tgetindexGridMazuCultureAPI,\r\n\t\tgetindexGridPalaceTempleAPI\r\n\t} from \"/apis/index.js\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitleInfo: {\r\n\t\t\t\t\ttitleShow: true,\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\timageUrl: \"http://t73sifiwt.hn-bkt.clouddn.com/pageBack/1.webp\",\r\n\t\t\t\t\theightShow: false,\r\n\t\t\t\t\tbackShow: true\r\n\t\t\t\t},\r\n\t\t\t\tpageInfo: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.titleInfo.title = option.pageGrid;\r\n\t\t\tconst apiMapping = {\r\n\t\t\t\t// 新闻中心\r\n\t\t\t\t\"新闻中心\": getindexNewsItemAPI,\r\n\t\t\t\t\"妈祖新闻\": getindexNewsItemAPI,\r\n\t\t\t\t\"两岸交流\": getindexNewsItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"福文化\": getindexFuCultureItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"信俗活动\": getindexFaithItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"妈祖文化\": getindexGridPalaceTempleAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"天下宫庙\": getindexPalaceTempleItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"数字出版\": getindexPublicationItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t// 妈祖文创\r\n\t\t\t\t\"妈祖文创\": getindexCultureCreativityItemAPI,\r\n\t\t\t\t\"摄影作品\": getindexCultureCreativityItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"两岸旅游\": getindexTourismItemAPI,\r\n\t\t\t\t\r\n\t\t\t\t\"妈祖诞辰\": getindexGridFaithAPI,\r\n\t\t\t\t\r\n\t\t\t\t// 妈祖传说\r\n\t\t\t\t\"妈祖传说\": getindexGridMazuCultureAPI,\r\n\t\t\t\t\"妈祖非遗\": getindexGridMazuCultureAPI\r\n\t\t\t};\r\n\t\t\tconst apiFunction = apiMapping[option.pageGrid];\r\n\t\t\tif (apiFunction) {\r\n\t\t\t\tapiFunction({\r\n\t\t\t\t\tid: option.pageId\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.pageInfo = res.message.map((item) => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\timageUrl: JSON.parse(item.imageUrl)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.error(\"获取数据时出错:\", error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tpageBack\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatDate(isoDate) {\r\n\t\t\t\tconst date = new Date(isoDate);\r\n\t\t\t\tconst year = date.getFullYear();\r\n\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0');\r\n\t\t\t\tconst day = String(date.getDate()).padStart(2, '0');\r\n\t\t\t\tconst hours = String(date.getHours()).padStart(2, '0');\r\n\t\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0');\r\n\t\t\t\tconst seconds = String(date.getSeconds()).padStart(2, '0');\r\n\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\r\n\t\t\t},\r\n\t\t\tpreviewImage(currentIndex) {\r\n\t\t\t\tconst urls = this.pageInfo[0]?.imageUrl || [];\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: urls[currentIndex], // 当前显示图片的http链接\r\n\t\t\t\t\turls: urls // 需要预览的图片http链接列表\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tif (e.scrollTop >= 80) {\r\n\t\t\t\tthis.titleInfo.heightShow = true\r\n\t\t\t}\r\n\t\t\tif (e.scrollTop < 80) {\r\n\t\t\t\tthis.titleInfo.heightShow = false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.content {\r\n\t\tpadding-bottom: 200rpx;\r\n\t\tposition: relative;\r\n\t\ttop: 200rpx;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 300rpx;\r\n\t\tbackground-color: rgb(255, 251, 241);\r\n\t\tborder-radius: 40rpx 40rpx 0 0;\r\n\t\toverflow: hidden;\r\n\t\tpadding: 40rpx 0;\r\n\t\tfont-family: \"阿里妈妈方圆体 VF Regular\" !important;\r\n\r\n\t\t.info {\r\n\t\t\tpadding: 0 40rpx;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 46rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\r\n\t\t\t.time {\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\tcolor: #bababa;\r\n\t\t\t}\r\n\r\n\t\t\t.infoContent {\r\n\t\t\t\ttext-indent: 2em;\r\n\t\t\t\tcolor: #000 !important;\r\n\t\t\t\tline-height: 46rpx;\r\n\t\t\t\tletter-spacing: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 40rpx 0;\r\n\t\t\t}\r\n\r\n\t\t\t.list {\r\n\t\t\t\twidth: 32%;\r\n\t\t\t\taspect-ratio: 1;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.list:not(:nth-child(3n)) {\r\n\t\t\t\tmargin-right: calc(5% / 3);\r\n\t\t\t}\r\n\r\n\t\t\t.list2 {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\taspect-ratio: 1;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/01前端学习/01fzhx/mazu-2/mazu-2/mazu-前端小程序/secondPages/gridDetail/gridDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["getindexFuCultureItemAPI","getindexGridPalaceTempleAPI","getindexPalaceTempleItemAPI","getindexPublicationItemAPI","getindexCultureCreativityItemAPI","getindexGridMazuCultureAPI","uni"],"mappings":";;;;;EA2CE,OAAA;AACC,WAAA;AAAA;QAEE,WAAA;AAAA,QACA,OAAA;AAAA,QACA,UAAA;AAAA,QACA,YAAA;AAAA;;;;;EAMH,OAAA,QAAA;AACC,SAAA,UAAA,QAAA,OAAA;AACA,UAAA,aAAA;AAAA;AAAA;;;MAMC,OAAAA,WAAA;AAAA;MAIA,QAAAC,WAAA;AAAA,MAEA,QAAAC,WAAA;AAAA,MAEA,QAAAC,WAAA;AAAA;AAAA,MAGA,QAAAC,WAAA;AAAA,MACA,QAAAA,WAAA;AAAA;;;MAOA,QAAAC,WAAA;AAAA,MACA,QAAAA,WAAA;AAAA;AAED,UAAA,cAAA,WAAA,OAAA,QAAA;AACA,QAAA,aAAA;;QAEE,IAAA,OAAA;AAAA,MACD,CAAA,EAAA,KAAA,CAAA,QAAA;AACC,aAAA,WAAA,IAAA,QAAA,IAAA,CAAA,SAAA;AACC,iBAAA;AAAA,YACC,GAAA;AAAA,YACA,UAAA,KAAA,MAAA,KAAA,QAAA;AAAA,UACD;AAAA,QACD,CAAA;AAAA,MACD,CAAA,EAAA,MAAA,CAAA,UAAA;AACCC,sBAAA,MAAA,MAAA,SAAA,+CAAA,YAAA,KAAA;AAAA,MACD,CAAA;AAAA,IACD;AAAA;;IAGA;AAAA;EAED,SAAA;AAAA,IACC,WAAA,SAAA;;;;;;;;;;;;AAWC,YAAA,SAAA,UAAA,SAAA,CAAA,MAAA,mBAAA,aAAA;AACAA,oBAAAA,MAAA,aAAA;AAAA,QACC,SAAA,KAAA,YAAA;AAAA;AAAA;;MAED,CAAA;AAAA,IACD;AAAA;EAED,aAAA,GAAA;AACC,QAAA,EAAA,aAAA,IAAA;;IAEA;AACA,QAAA,EAAA,YAAA,IAAA;AACC,WAAA,UAAA,aAAA;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClID,GAAG,WAAW,eAAe;"}