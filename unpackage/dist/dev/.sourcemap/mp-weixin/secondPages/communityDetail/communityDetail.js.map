{"version":3,"file":"communityDetail.js","sources":["secondPages/communityDetail/communityDetail.vue","E:/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c2Vjb25kUGFnZXNcY29tbXVuaXR5RGV0YWlsXGNvbW11bml0eURldGFpbC52dWU"],"sourcesContent":["<template>\r\n\t<!-- 现在有两个问题\r\n\t 第一个不能检查到文本的文字\r\n\t 第二个问题 \r\n\t这个的当前评论 {mainId: 122, superior_id: 122, comment_id: 122}\r\n\t点击发送后 \r\n\tcomment_id: null 回复的直接评论ID\r\n\tmainId: null  所属一级评论ID\r\n\t 在测试的时候已经可以实现多级列表了\r\n\t -->\r\n\t<pageBack :titleInfo=\"titleInfo\"></pageBack>\r\n\t<view class=\"replyView\">\r\n\t\t<view class=\"center\">\r\n\t\t\t<input type=\"text\" v-model=\"replyContent\" :placeholder=\"placeholder\" :focus=\"isInputFocus\" ref=\"replyInput\" @confirm=\"sendReply\" />\r\n\t\t\t<view class=\"button\" @click=\"sendReply\">发送</view>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"info\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{ pageInfo[0]?.title }}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"time\" v-if=\"pageInfo[0]\">\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t来源：\r\n\t\t\t\t\t<image :src=\"pageInfo[0]?.avatarurl\" mode=\"\"></image>\r\n\t\t\t\t\t<text>{{ pageInfo[0]?.nickname }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t{{ formatDate(pageInfo[0]?.time) }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"infoContent\" v-html=\"pageInfo[0]?.content\"></view>\r\n\t\t\t<view class=\"container\">\r\n\t\t\t\t<view class=\"list\" v-for=\"(item, index) in pageInfo[0]?.imageUrl\" v-if=\"pageInfo[0]?.imageUrl && pageInfo[0]?.imageUrl.length > 1\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" @click=\"previewImage(index)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list2\" v-for=\"(item, index) in pageInfo[0]?.imageUrl\" v-else-if=\"pageInfo[0]?.imageUrl\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" @click=\"previewImage(index)\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 评论 -->\r\n\t\t<view class=\"comment\">\r\n\t\t\t<view class=\"title\">最新评论</view>\r\n\t\t\t<view v-if=\"comment.length > 0\" class=\"commentList\">\r\n\t\t\t\t<view class=\"item\" v-for=\"item in comment\" :key=\"item.id\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"commentContent\">\r\n\t\t\t\t\t\t\t<image :src=\"item.avatarurl\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<view class=\"itemInfo\">\r\n\t\t\t\t\t\t\t\t<text class=\"name\">{{ item.nickname }}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"replyContent\" @click=\"replyComment(item)\">\r\n\t\t\t\t\t\t\t\t\t{{ item.reply_content }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"time\">\r\n\t\t\t\t\t\t\t{{ formatDate(item.reply_time) }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 二级及以上评论（递归渲染） -->\r\n\t\t\t\t\t<view class=\"replies\" v-if=\"item.replies && item.replies.length > 0\">\r\n\t\t\t\t\t\t<view class=\"repliesItem\" v-for=\"list in item.replies\" :key=\"list.id\">\r\n\t\t\t\t\t\t\t<view class=\"header\">\r\n\t\t\t\t\t\t\t\t<image :src=\"list.avatarurl\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"name\">{{ list.nickname }} 回复 {{ list.parent_nickname }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"repliesContent\" @click=\"replyComment(list)\">\r\n\t\t\t\t\t\t\t\t{{ list.reply_content }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"time\" style=\"padding-left: 75rpx\">\r\n\t\t\t\t\t\t\t\t{{ formatDate(list.reply_time) }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 三级评论（递归渲染） -->\r\n\t\t\t\t\t\t\t<view class=\"replies\" v-if=\"list.replies && list.replies.length > 0\">\r\n\t\t\t\t\t\t\t\t<view class=\"repliesItem\" v-for=\"third in list.replies\" :key=\"third.id\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"header\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"third.avatarurl\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ third.nickname }} 回复 {{ third.parent_nickname }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"repliesContent\" @click=\"replyComment(third)\">\r\n\t\t\t\t\t\t\t\t\t\t{{ third.reply_content }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"time\" style=\"padding-left: 75rpx\">\r\n\t\t\t\t\t\t\t\t\t\t{{ formatDate(third.reply_time) }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 四级及以上评论（递归渲染） -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"replies\" v-if=\"third.replies && third.replies.length > 0\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"repliesItem\" v-for=\"fourth in third.replies\" :key=\"fourth.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"fourth.avatarurl\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ fourth.nickname }} 回复 {{ fourth.parent_nickname }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"repliesContent\" @click=\"replyComment(fourth)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ fourth.reply_content }}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\" style=\"padding-left: 75rpx\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ formatDate(fourth.reply_time) }}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-else class=\"noData\">\r\n\t\t\t\t<image style=\"width: 200rpx; height: 200rpx\" src=\"../../static/comment.svg\" mode=\"\"></image>\r\n\t\t\t\t<view class=\"\">暂无评论，期待您成为第一个评论~</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport pageBack from '/components/title/title.vue';\r\nimport { getCommunityItemInfoAPI, getCommentAPI, addCommentsAPI, checkMyPostCommunityAPI } from '/apis/community.js';\r\nimport { useUserInfoStore } from '@/store/userInfo.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttitleInfo: {\r\n\t\t\t\ttitleShow: true,\r\n\t\t\t\ttitle: '社区',\r\n\t\t\t\timageUrl: 'http://t73sifiwt.hn-bkt.clouddn.com/pageBack/1.webp',\r\n\t\t\t\theightShow: false,\r\n\t\t\t\tbackShow: true\r\n\t\t\t},\r\n\t\t\tpageInfo: [],\r\n\t\t\tcomment: [],\r\n\t\t\tisInputFocus: false,\r\n\t\t\tpageIndex: null,\r\n\t\t\tplaceholder: '善语善言结善缘,期待您的评论~',\r\n\t\t\tsuperior_id: null, // 父评论ID（二级评论传父评论id）\r\n\t\t\tcomment_id: null, // 评论ID\r\n\t\t\tmainId: null, // 最顶级评论ID\r\n\t\t\treplyContent: '' // 输入框内容\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\tthis.pageIndex = option.postId;\r\n\t\t// 缓存游览历史\r\n\t\tlet history = uni.getStorageSync('history') || [];\r\n\t\tlet index = history.indexOf(option.postId);\r\n\t\tif (index !== -1) {\r\n\t\t\thistory.splice(index, 1);\r\n\t\t\thistory.unshift(option.postId);\r\n\t\t} else {\r\n\t\t\thistory.unshift(option.postId);\r\n\t\t}\r\n\t\tuni.setStorageSync('history', history);\r\n\r\n\t\t// 初始化数据\r\n\t\tthis.getPostDetail();\r\n\t\tthis.getCommentList();\r\n\t\tthis.checkMyPost();\r\n\t},\r\n\tcomponents: {\r\n\t\tpageBack\r\n\t},\r\n\tmethods: {\r\n\t\t// 格式化日期（兼容null）\r\n\t\tformatDate(isoDate) {\r\n\t\t\tif (!isoDate) return '';\r\n\t\t\tconst date = new Date(isoDate.replace(' ', 'T'));\r\n\t\t\tconst year = date.getFullYear();\r\n\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0');\r\n\t\t\tconst day = String(date.getDate()).padStart(2, '0');\r\n\t\t\tconst hours = String(date.getHours()).padStart(2, '0');\r\n\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0');\r\n\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`;\r\n\t\t},\r\n\t\t// 预览图片\r\n\t\tpreviewImage(currentIndex) {\r\n\t\t\tconst urls = this.pageInfo[0]?.imageUrl || [];\r\n\t\t\tif (urls.length === 0) return;\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: urls[currentIndex],\r\n\t\t\t\turls: urls\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 点击评论（回复功能）\r\n\t\treplyComment(item) {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t// 确保 item.id 存在（避免传递无效值）\r\n\t\t\t\tif (!item.id) return;\r\n\t\t\t\tthis.mainId = item.mainId || item.id; // 顶级评论ID（一级用自身，子评论用原mainId）\r\n\t\t\t\tthis.superior_id = item.id; // 父评论ID（必传）\r\n\t\t\t\tthis.comment_id = item.id;\r\n\t\t\t\tthis.isInputFocus = true;\r\n\t\t\t\tthis.placeholder = `回复 @${item.nickname}`;\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 输入框失焦\r\n\t\toutFocus() {\r\n\t\t\tthis.superior_id = null;\r\n\t\t\tthis.comment_id = null;\r\n\t\t\tthis.mainId = null;\r\n\t\t\tthis.replyContent = '';\r\n\t\t\tthis.isInputFocus = false;\r\n\t\t\tthis.placeholder = '善语善言结善缘,期待您的评论~';\r\n\t\t},\r\n\t\t// 发送评论\r\n\t\tsendReply() {\r\n\t\t\tconst replyContent = this.replyContent.trim();\r\n\t\t\tconst userStore = useUserInfoStore();\r\n\t\t\tconst userId = userStore.$state.userInfo?.id;\r\n\r\n\t\t\t// 闭包缓存所有参数（彻底隔离外部影响）\r\n\t\t\tconst commentParams = {\r\n\t\t\t\tpost_id: this.pageIndex,\r\n\t\t\t\tuser_id: userId,\r\n\t\t\t\treply_content: replyContent,\r\n\t\t\t\tsuperior_id: this.superior_id,\r\n\t\t\t\tcomment_id: this.comment_id,\r\n\t\t\t\tmainId: this.mainId\r\n\t\t\t};\r\n\r\n\t\t\t// 未登录校验\r\n\t\t\tif (!userId) {\r\n\t\t\t\tuni.navigateTo({ url: '/pages/login/login' });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// 内容为空校验\r\n\t\t\tif (!replyContent) {\r\n\t\t\t\tuni.showToast({ title: '请输入评论内容', mask: true, icon: 'none' });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// 调用发布评论接口\r\n\t\t\taddCommentsAPI(commentParams)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\tthis.getCommentList(); // 刷新评论\r\n\t\t\t\t\t\tthis.outFocus(); // 重置输入框（此时再重置参数，不影响接口调用）\r\n\t\t\t\t\t\tuni.showToast({ title: '发布成功', mask: true });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({ title: res.message || '发布失败', mask: true, icon: 'error' });\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.error('评论发布失败：', err);\r\n\t\t\t\t\tuni.showToast({ title: '网络异常，发布失败', mask: true, icon: 'error' });\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 获取帖子详情\r\n\t\tgetPostDetail() {\r\n\t\t\tgetCommunityItemInfoAPI({ id: this.pageIndex })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.message && res.message.length > 0) {\r\n\t\t\t\t\t\tthis.pageInfo = res.message.map((item) => ({\r\n\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\timageUrl: item.imageUrl ? JSON.parse(item.imageUrl) : []\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.error('获取帖子详情失败：', error);\r\n\t\t\t\t\tuni.showToast({ title: '加载帖子失败', mask: true, icon: 'error' });\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 获取评论列表\r\n\t\tgetCommentList() {\r\n\t\t\tgetCommentAPI({ id: this.pageIndex })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.comments && Array.isArray(res.comments)) {\r\n\t\t\t\t\t\t// 去重逻辑：仅当最后一条与前一条ID相同时才删除（避免误删）\r\n\t\t\t\t\t\tconst comments = [...res.comments];\r\n\t\t\t\t\t\tif (comments.length >= 2 && comments[comments.length - 1].id === comments[comments.length - 2].id) {\r\n\t\t\t\t\t\t\tthis.comment = comments.slice(0, -1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.comment = comments;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.comment = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.error('获取评论失败：', error);\r\n\t\t\t\t\tuni.showToast({ title: '加载评论失败', mask: true, icon: 'error' });\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 检查是否为自己发布的帖子\r\n\t\tcheckMyPost() {\r\n\t\t\tconst userStore = useUserInfoStore();\r\n\t\t\tconst userId = userStore.$state.userInfo?.id;\r\n\t\t\tif (!userId) return;\r\n\r\n\t\t\tcheckMyPostCommunityAPI({ user_id: userId, id: this.pageIndex })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log('是否自己发布的帖子：', res);\r\n\t\t\t\t\t// 可添加编辑/删除按钮逻辑（示例）\r\n\t\t\t\t\t// if (res.isMyPost) this.showDeleteBtn = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.error('检查帖子归属失败：', error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\tonPageScroll(e) {\r\n\t\tthis.titleInfo.heightShow = e.scrollTop >= 80;\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.replyView {\r\n\twidth: 100%;\r\n\tposition: fixed;\r\n\tbackground-color: rgb(255, 251, 241);\r\n\tborder-top: 2rpx solid rgba(0, 0, 0, 0.08);\r\n\tbottom: 0%;\r\n\tleft: 0%;\r\n\tz-index: 100;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: center;\r\n\tfont-family: '阿里妈妈方圆体 VF Regular' !important;\r\n\r\n\t.center {\r\n\t\twidth: 90%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 0;\r\n\r\n\t\tinput {\r\n\t\t\twidth: 75%;\r\n\t\t\tpadding: 15rpx 30rpx;\r\n\t\t\tborder: 2rpx solid rgba(0, 0, 0, 0.1);\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\toutline: none;\r\n\t\t}\r\n\r\n\t\t.button {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #4d0000;\r\n\t\t\tpadding: 12rpx 30rpx;\r\n\t\t\tbackground-color: #ffebeb;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tcursor: pointer;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.content {\r\n\tposition: relative;\r\n\ttop: 200rpx;\r\n\twidth: 100%;\r\n\tmin-height: calc(100vh - 200rpx - 120rpx);\r\n\tbackground-color: rgb(255, 251, 241);\r\n\tborder-radius: 40rpx 40rpx 0 0;\r\n\toverflow: hidden;\r\n\tpadding: 40rpx 0;\r\n\tfont-family: '阿里妈妈方圆体 VF Regular' !important;\r\n\tpadding-bottom: 160rpx;\r\n\r\n\t.noData {\r\n\t\tpadding: 60rpx 0;\r\n\t\ttext-align: center;\r\n\r\n\t\timage {\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\tview {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t.info {\r\n\t\tpadding: 0 40rpx;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 46rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tline-height: 60rpx;\r\n\t\t}\r\n\r\n\t\t.time {\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tcolor: #bababa;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tflex-wrap: wrap;\r\n\r\n\t\t\tview {\r\n\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.infoContent {\r\n\t\t\ttext-indent: 2em;\r\n\t\t\tcolor: #333 !important;\r\n\t\t\tline-height: 46rpx;\r\n\t\t\tletter-spacing: 4rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\r\n\t\t.container {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 10rpx 0 40rpx 0;\r\n\t\t}\r\n\r\n\t\t.list {\r\n\t\t\twidth: 32%;\r\n\t\t\taspect-ratio: 1;\r\n\t\t\tmargin-bottom: 15rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.list:not(:nth-child(3n)) {\r\n\t\t\tmargin-right: calc(4% / 2);\r\n\t\t}\r\n\r\n\t\t.list2 {\r\n\t\t\twidth: 100%;\r\n\t\t\taspect-ratio: 16/9;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.comment {\r\n\t\twidth: 90%;\r\n\t\tmargin: auto;\r\n\t\tmargin-top: 20rpx;\r\n\r\n\t\t.title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.commentList {\r\n\t\t\tpadding-top: 20rpx;\r\n\r\n\t\t\t.item {\r\n\t\t\t\tpadding: 25rpx 0;\r\n\t\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t\t.commentContent {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: flex-start;\r\n\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\tmargin-top: 5rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.itemInfo {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.name {\r\n\t\t\t\t\t\tcolor: #6b6b6b;\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.replyContent {\r\n\t\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\t\tline-height: 44rpx;\r\n\t\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tpadding: 10rpx 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.time {\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tcolor: #b1b1b1;\r\n\t\t\t\t\tpadding-left: 100rpx;\r\n\t\t\t\t\tpadding-top: 5rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* 二级及以上评论容器 */\r\n\t\t\t\t.replies {\r\n\t\t\t\t\tpadding-left: 60rpx;\r\n\t\t\t\t\tmargin-top: 15rpx;\r\n\r\n\t\t\t\t\t.repliesItem {\r\n\t\t\t\t\t\tpadding: 15rpx 0;\r\n\t\t\t\t\t\tborder-bottom: 1rpx solid #f9f9f9;\r\n\r\n\t\t\t\t\t\t.header {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.name {\r\n\t\t\t\t\t\t\t\tcolor: #6b6b6b;\r\n\t\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.repliesContent {\r\n\t\t\t\t\t\t\tmargin-top: 8rpx;\r\n\t\t\t\t\t\t\tpadding-left: 75rpx;\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\tline-height: 42rpx;\r\n\t\t\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.time {\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: #b1b1b1;\r\n\t\t\t\t\t\t\tpadding-left: 75rpx;\r\n\t\t\t\t\t\t\tpadding-top: 8rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/01前端学习/01fzhx/mazu-2/mazu-2/mazu-前端小程序/secondPages/communityDetail/communityDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","useUserInfoStore","getCommunityItemInfoAPI","getCommentAPI"],"mappings":"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"}